' Tables of CasinoAufsicht database
' Created by JJ-Carron
' 29.07.2022
' File structure:
' name = definition;
' after a ' each character on the line is ignored
' the name is the last word previous the =
' The definition include all the word between the the = and the ; with the exception of the  text after the ' on each line

'Template Table used for testing purposes
XXXs =
id INTEGER IDENTITY PRIMARY KEY, IntValue Integer, StrValue varchar(255);

Settings = id INTEGER IDENTITY PRIMARY KEY, Name varchar(255), PValue varchar(255), PBoolean BIT;

Casinos =
id INTEGER IDENTITY PRIMARY KEY, Name varchar(255), Online BIT, DZS_ID INTEGER;

Users =
id INTEGER IDENTITY PRIMARY KEY, 
Username varchar(255), Name varchar(255), First_Name varchar(255), Passwd varchar(255), PrefLanguage varchar(2), isAdmin BIT, isLocked BIT;

ResourceStrings =
id INTEGER IDENTITY PRIMARY KEY, 
Ref varchar(255), EN varchar(255), DE varchar(255), FR varchar(255), IT varchar(255);

Menus =
id INTEGER IDENTITY PRIMARY KEY, Form_Ref varchar(255), Menu_Ref varchar(255), Parent_Ref varchar(255), MenuType varchar(255), 
Callback varchar(255), MenuLevel INTEGER, MenuOrder INTEGER, NewGroup BIT, UserLevel INTEGER;

SokFiles =
id INTEGER IDENTITY PRIMARY KEY, Name varchar(255), Path varchar(255), LastChange DATE, FileSize INTEGER, isLoaded BIT, [Year] INTEGER;

Criteria = 
id INTEGER IDENTITY PRIMARY KEY, Reference varchar(255), Abbreviation varchar(255), Legal_Basis varchar(255), Comment TEXT;

' Casino as casino.name and C_Ref as Criteria.Reference are added for readability and to symplify the most queries
CriterionValues =
id INTEGER IDENTITY PRIMARY KEY, Operation varchar(2), [Year] INTEGER, Criterion_fk INTEGER, Criterion_Ref varchar(255), Casino_fk INTEGER, Casino varchar(255), Val DOUBLE,
CONSTRAINT const_CPV_Criterion FOREIGN KEY (Criterion_fk) REFERENCES Criteria (id),
CONSTRAINT const_CPV_Casino FOREIGN KEY (Casino_fk) REFERENCES Casinos (id); 

CrossviewInfos =
id INTEGER IDENTITY PRIMARY KEY, 
QueryName varchar(255), Operation varchar(2), Title varchar(255), X_Name varchar(255), Y_Name varchar(255), Sheet_Prefix varchar(255), Formula varchar(255), 
Draw_Total BIT, Draw_Delta BIT, Draw_Casino BIT;
